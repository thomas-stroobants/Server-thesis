SPARQL
PREFIX rr: <http://www.w3.org/ns/r2rml#> 
PREFIX rml: <http://semweb.mmlab.be/ns/rml#> 
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> 
PREFIX ql: <http://semweb.mmlab.be/ns/ql#> 
PREFIX map: <http://mapping.example.com/> 
PREFIX ma: <http://www.w3.org/ns/ma-ont#> 
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#> 
PREFIX sd: <http://www.w3.org/ns/sparql-service-description#> 
PREFIX dc: <http://purl.org/dc/elements/1.1/> 
PREFIX foaf: <http://xmlns.com/foaf/0.1/> 
PREFIX rev: <http://purl.org/stuff/rev#> 
PREFIX v: <http://rdf.data-vocabulary.org/#> 
PREFIX schema: <http://schema.org/> 
PREFIX gtfs: <http://vocab.gtfs.org/terms#> 
PREFIX geo: <http://www.w3.org/2003/01/geo/wgs84_pos#> 
PREFIX dct: <http://purl.org/dc/terms/> 

#     BIND ( (?time2 - ?time1) AS ?diff)

SELECT ?routeNameSNGSP ?SNname ?stopSNnmbs ?bluebikeSN ?departureTimeSNnmbs ?tripname ?stopGSPnmbs ?bluebikeGSP ?departureTimeGSPnmbs
where { 
    BIND("2023-05-19T07:00:00"^^xsd:dateTime as ?startTime)
    BIND("2023-05-19T09:00:00"^^xsd:dateTime as ?endTime)
    BIND("Sint-Niklaas" as ?SNname)

    ?stopSNnmbs foaf:name ?SNname;
        # a gtfs:Stop ;
        gtfs:bikeAllowed ?bluebikeSN .

    ?stopGSPnmbs foaf:name "Gent-Sint-Pieters" ;
        # a gtfs:Stop ;
        gtfs:bikeAllowed ?bluebikeGSP .

    ?tripSNGSP #a gtfs:Trip ;    
        gtfs:headsign ?tripname ;
        gtfs:route ?routeSNGSP .

    ?routeSNGSP 
        gtfs:longName ?routeNameSNGSP.

    ?stopTimeSNnmbs #a gtfs:StopTime;
        gtfs:stop ?stopSNnmbs ;
        gtfs:trip ?tripSNGSP ;
        gtfs:departureTime ?departureTimeSNnmbs ;
        gtfs:stopSequence ?seqSNnmbs .
    FILTER (?departureTimeSNnmbs >= ?startTime && ?departureTimeSNnmbs <= ?departureTimeGSPnmbs) 

    ?stopTimeGSPnmbs #a gtfs:StopTime;
        gtfs:stop ?stopGSPnmbs ;
        gtfs:trip ?tripSNGSP ;
        gtfs:departureTime ?departureTimeGSPnmbs ;
        gtfs:stopSequence ?seqGSPnmbs .
    FILTER (?departureTimeGSPnmbs >= ?departureTimeSNnmbs && ?departureTimeGSPnmbs <= ?endTime) 

    # FILTER (?seqGSPnmbs > ?seqSNnmbs) # to have the correct direction for the trip

} ORDER BY ?departureTimeGSPnmbs ;