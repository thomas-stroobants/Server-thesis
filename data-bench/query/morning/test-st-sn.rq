SPARQL
PREFIX rr: <http://www.w3.org/ns/r2rml#> 
PREFIX rml: <http://semweb.mmlab.be/ns/rml#> 
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> 
PREFIX ql: <http://semweb.mmlab.be/ns/ql#> 
PREFIX map: <http://mapping.example.com/> 
PREFIX ma: <http://www.w3.org/ns/ma-ont#> 
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#> 
PREFIX sd: <http://www.w3.org/ns/sparql-service-description#> 
PREFIX dc: <http://purl.org/dc/elements/1.1/> 
PREFIX foaf: <http://xmlns.com/foaf/0.1/> 
PREFIX rev: <http://purl.org/stuff/rev#> 
PREFIX v: <http://rdf.data-vocabulary.org/#> 
PREFIX schema: <http://schema.org/> 
PREFIX gtfs: <http://vocab.gtfs.org/terms#> 
PREFIX geo: <http://www.w3.org/2003/01/geo/wgs84_pos#> 
PREFIX dct: <http://purl.org/dc/terms/> 


SELECT  ?stopNameSTdl ?departureTimeSTdl ?stopNameSNdl ?departureTimeSNdl ?routeNumber ?tripName
WHERE {
    BIND("2023-05-19T00:00:00"^^xsd:dateTime as ?startTime)
    ?stopStekenedl #a gtfs:Stop ;
            foaf:name ?stopNameSTdl ;
            gtfs:code 204391 .

    ?stopSNdl #a gtfs:Stop ;
            foaf:name ?stopNameSNdl ;
            gtfs:code 204714 .
    
    ?tripSTSN #a gtfs:Trip ;
            gtfs:headsign ?tripName ;
            gtfs:route ?routeSTSN .
    
    ?routeSTSN #a gtfs:Route ;
            gtfs:shortName ?routeNumber .

    ?stopTimeStekenedl #a gtfs:StopTime ;
            gtfs:stop ?stopStekenedl ;
            gtfs:trip ?tripSTSN ;
            gtfs:departureTime ?departureTimeSTdl ;
            gtfs:stopSequence ?seqSTdl .
    FILTER (?departureTimeSTdl >= ?startTime && ?departureTimeSTdl <= "2023-05-19T08:00:00"^^xsd:dateTime)
    
    ?stopTimeSNdl #a gtfs:StopTime ;
            gtfs:stop ?stopSNdl ;
            gtfs:trip ?tripSTSN ;
            gtfs:departureTime ?departureTimeSNdl ;
            gtfs:stopSequence ?seqSNdl .
    FILTER (?departureTimeSNdl >= "2023-05-19T07:00:00"^^xsd:dateTime && ?departureTimeSNdl <= "2023-05-19T08:00:00"^^xsd:dateTime)

    FILTER(?seqSTdl < ?seqSNdl)
    # FILTER(?departureTimeSTdl < ?departureTimeSNdl)





} Limit 20;